(this["webpackJsonpecom-frontend"]=this["webpackJsonpecom-frontend"]||[]).push([[0],{102:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(52),l=t.n(s),c=(t(89),t(90),t(22)),o=t(4),i=t(77),m=t.n(i);t(91);var u=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),n.a.createElement("p",null,"Edit ",n.a.createElement("code",null,"src/App.js")," and save to reload."),n.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))},d=t(54),p=t(55),g=t(67),f=t(64),_=function(e){Object(g.a)(t,e);var a=Object(f.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement("div",{id:"wrapper"},n.a.createElement("ul",{class:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},n.a.createElement("a",{class:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html"},n.a.createElement("div",{class:"sidebar-brand-icon rotate-n-15"},n.a.createElement("i",{class:"fa fa-home"})),n.a.createElement("div",{class:"sidebar-brand-text mx-3"},"SB Admin ",n.a.createElement("sup",null,"2"))),n.a.createElement("li",{class:"nav-item active"},n.a.createElement("a",{class:"nav-link",href:"index.html"},n.a.createElement("i",{class:"fa fa-user-circle-o"}),n.a.createElement("span",null,"Dashboard"))))))}}]),t}(r.Component),h=(t(92),t(32)),b=t(65),E=t(17),v=t(2),w=t.n(v);w.a.set({development:{serverUrl:"http://localhost:5000/"},production:{serverUrl:"http://localhost:5000/"},loadingImage:"http://localhost/reactApi/wp-content/uploads/2020/05/4cf423dc7c2321aa9b733c20c53752b7.gif",agent_account_added:"You are successfully registered with your account",unique_email:"email_address",unique_email_error:"Email address already in use please enter a unique value",status_success:"200",status_failure:"400",email_address_error:"Entered email doesnot exist. Please re check.",input_password_error:"Password entered for the user is incorrect. Please check again",user_found_success:"You are successfully login. Please wait while we are redirecting",success_toast_color:"#53ae61",failure_toast_color:"#e580ba"});var N=t(63),y=t.n(N),j="production",O=t(83),x=(t(100),function(e){var a=Object(r.useState)("true"===e.state),t=Object(O.a)(a,2),s=t[0],l=t[1],c=function(){return l(!s)},o=[];o.push("fade"),o.push("toast"),"show"===e.show&&!0===s&&(o.push(e.show),setTimeout((function(){c()}),5e3));var i={backgroundColor:e.color};return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:o.join(" "),style:i,role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{class:"toast-header"},n.a.createElement("strong",{class:"mr-auto"},e.message),n.a.createElement("button",{type:"button",className:"close ml-2 mb-1","data-dismiss":"toast",onClick:c},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"),n.a.createElement("span",{class:"sr-only"},"Close")))))}),C=Object(h.b)((function(e){var a=e.agent;return{loading:a.loading,status:a.status}}))((function(e){var a=Object(h.c)(),t=Object(o.f)(),s=Object(r.useRef)(),l=Object(r.useRef)(),c=e.loading,i=e.status;return i===w.a.get("status_success")&&function(e,a,t){t({type:"reset_data",payload:"reset"}),setTimeout((function(){e.push(a)}),4e3)}(t,"/login",a),n.a.createElement(b.a,{initialValues:{first_name:"",last_name:"",email_address:"",input_password:"",repeat_password:""},onSubmit:function(e,t){t.setSubmitting;a({type:"add_loader",payload:"load"}),a(function(e){var a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)};return function(e){fetch(w.a.get(j+".serverUrl")+"api/agent/add",a).then((function(e){return e.json()})).then((function(a){e({type:"agent_account",payload:a})})).catch((function(e){console.error("Error:",e)}))}}(e))},validationSchema:E.a().shape({first_name:E.c().required("Required"),last_name:E.c().required("Required"),email_address:E.c().email().required("Email must be required and should be in a valid format"),input_password:E.c().min(8,"Password is too short - should be 8 chars minimum.").required("Required"),repeat_password:E.c().required("Required").oneOf([E.b("input_password"),null],"Repeat Password must be equal to password")})},(function(e){var a=e.touched,t=e.errors,r=e.handleChange,o=e.handleBlur,m=e.handleSubmit;return i===w.a.get("status_success")&&s.current&&(s.current.setAttribute("disabled",!0),l.current.classList.remove("error"),t.email_address=null),i===w.a.get("status_failure")&&l.current&&(l.current.focus(),l.current.classList.add("error"),s.current.removeAttribute("disabled"),t.email_address=w.a.get("unique_email_error")),n.a.createElement("form",{className:"user",onSubmit:m},n.a.createElement("div",{className:"form-group row"},i===w.a.get("status_success")&&n.a.createElement(x,{message:w.a.get("agent_account_added"),show:"show",state:"true"}),n.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},n.a.createElement("input",{type:"text",className:"form-control form-control-user",id:"first_name",name:"first_name",placeholder:"First Name",onChange:r,onBlur:o}),t.first_name&&a.first_name&&n.a.createElement("div",null,t.first_name)),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",className:"form-control form-control-user",id:"last_name",name:"last_name",placeholder:"Last Name",onChange:r,onBlur:o}),t.last_name&&a.last_name&&n.a.createElement("div",null,t.last_name))),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"email",className:"form-control form-control-user",id:"email_address",name:"email_address",placeholder:"Email Address",onChange:function(a){e.handleChange(a),i=null,l.current.classList.remove("error"),t.email_address=null},ref:l,onBlur:o}),t.email_address&&a.email_address&&n.a.createElement("div",null,t.email_address)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},n.a.createElement("input",{type:"password",className:"form-control form-control-user",id:"input_password",name:"input_password",placeholder:"Password",onChange:r,onBlur:o}),t.input_password&&a.input_password&&n.a.createElement("div",null,t.input_password)),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"password",className:"form-control form-control-user",id:"repeat_password",name:"repeat_password",placeholder:"Repeat Password",onChange:r,onBlur:o}),t.repeat_password&&a.repeat_password&&n.a.createElement("div",null,t.repeat_password))),null!==c&&n.a.createElement("img",{src:w.a.get("loadingImage"),className:y.a.imageCss,alt:"Loading.."}),n.a.createElement("button",{className:"btn btn-primary btn-user btn-block",type:"submit",ref:s}," Register Account"))}))}));var q=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},n.a.createElement("div",{className:"card-body p-0"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-5 d-none d-lg-block bg-register-image"}),n.a.createElement("div",{className:"col-lg-7"},n.a.createElement("div",{className:"p-5"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Create an Account!")),n.a.createElement(C,null),n.a.createElement("div",{className:"text-center"},n.a.createElement("a",{className:"small",href:"forgot-password.html"},"Forgot Password?")),n.a.createElement("div",{className:"text-center"},n.a.createElement(c.b,{to:"/login",className:"small"},"Already have an account? Login!"))))))))},k=Object(h.b)((function(e){var a=e.agent;return{loading:a.loading,status:a.status,error:a.error}}))((function(e){var a=Object(h.c)(),t=Object(o.f)(),s=e.loading,l=e.status,c=e.error,i=Object(r.useRef)();return n.a.createElement(b.a,{initialValues:{email_address:"",input_password:""},onSubmit:function(e,t){t.setSubmitting;a({type:"add_loader",payload:"load"}),a(function(e){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return function(e){fetch(w.a.get(j+".serverUrl")+"api/agent/login",a).then((function(e){return e.json()})).then((function(a){e({type:"login_action",payload:a})})).catch((function(e){console.error("Error:",e)}))}}(e))},validationSchema:E.a().shape({email_address:E.c().email().required("Email must be required and should be in a valid format"),input_password:E.c().min(8,"Password is too short - should be 8 chars minimum.").required("Required")})},(function(e){var r=e.touched,o=e.errors,m=e.handleChange,u=e.handleBlur,d=e.handleSubmit;l===w.a.get("status_success")&&i.current&&(i.current.setAttribute("disabled",!0),function(e,a,t){t({type:"reset_data",payload:"reset"}),setTimeout((function(){e.push(a)}),4e3)}(t,"/admin",a));var p="",g="";return l===parseInt(w.a.get("status_failure"))&&(p=w.a.get(c+"_error"),g=w.a.get("failure_toast_color")),l===w.a.get("status_success")&&(p=w.a.get("user_found_success"),g=w.a.get("success_toast_color")),n.a.createElement("form",{className:"user",onSubmit:d},null!==l&&n.a.createElement(x,{message:p,show:"show",color:g,state:"true"}),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"email",className:"form-control form-control-user",id:"email_address",name:"email_address",placeholder:"Email Address",onChange:m,onBlur:u}),o.email_address&&r.email_address&&n.a.createElement("div",null,o.email_address)),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"password",className:"form-control form-control-user",id:"input_password",name:"input_password",placeholder:"Password",onChange:m,onBlur:u}),o.input_password&&r.input_password&&n.a.createElement("div",null,o.input_password)),null!==s&&n.a.createElement("img",{src:w.a.get("loadingImage"),className:y.a.imageCss,alt:"Loading.."}),n.a.createElement("button",{className:"btn btn-primary btn-user btn-block",type:"submit",ref:i},"Login"))}))})),A=function(e){Object(g.a)(t,e);var a=Object(f.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},n.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},n.a.createElement("div",{className:"card-body p-0"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"p-5"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"Welcome Back!")),n.a.createElement(k,null),n.a.createElement("hr",null),n.a.createElement("div",{className:"text-center"},n.a.createElement("a",{className:"small",href:"forgot-password.html"},"Forgot Password?")),n.a.createElement("div",{className:"text-center"},n.a.createElement(c.b,{to:"/register",className:"small"},"Create an Account!"))))))))))}}]),t}(r.Component);function S(){return n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/"},n.a.createElement(u,null)),n.a.createElement(o.a,{exact:!0,path:"/admin/",component:_}),n.a.createElement(o.a,{exact:!0,path:"/register/",component:q}),n.a.createElement(o.a,{exact:!0,path:"/login/",component:A}))}function P(){return n.a.createElement(c.a,null,n.a.createElement(S,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(48),R=t(82),L=t(20),T={loading:null,user_id:null,status:null,error:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0,t=a.type,r=a.payload;switch(t){case"reset_data":return Object(L.a)(Object(L.a)({},e),{},{loading:null,user_id:null});case"agent_account":return Object(L.a)(Object(L.a)({},e),{},{loading:null,user_id:r,status:r!==w.a.get("unique_email")?w.a.get("status_success"):w.a.get("status_failure")});case"login_action":var n=null,s=null;if(r.status_code)n=r.error,s=r.status_code;else{var l=r.first_name,c=r.last_name,o=r._id;localStorage.setItem("account",{user_id:o,first_name:l,last_name:c}),n=null,s=w.a.get("status_success")}return Object(L.a)(Object(L.a)({},e),{},{status:s,loading:null,error:n});case"add_loader":return Object(L.a)(Object(L.a)({},e),{},{loading:r,status:null});case"change_status":return Object(L.a)(Object(L.a)({},e),{},{status:null});default:return e}},F=Object(B.c)({agent:I}),J=Object(B.d)(F,Object(B.a)(R.a));l.a.render(n.a.createElement(h.a,{store:J},n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,a,t){e.exports={coverClass:"account_coverClass__1Qcbq",headingText:"account_headingText__P4hOL",imageCss:"account_imageCss__2jegT"}},77:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},84:function(e,a,t){e.exports=t(102)},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.b01621f2.chunk.js.map